(()=>{"use strict";var t={373:(t,e,n)=>{n.r(e)},752:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.App=void 0;const a=n(323),s=n(123),i=n(587);e.App=class{constructor(t){this.rootElement=t,this.garage=new s.Garage,this.winners=new i.Winners,this.header=new a.Header(this.garage,this.winners)}async render(){var t;null===(t=this.rootElement)||void 0===t||t.append(this.header.element,this.garage.element,this.winners.element)}}},951:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.drive=e.stopEngine=e.startEngine=void 0;const a=n(293),s=n(919);e.startEngine=async t=>{const e=s.Path.engine,n=await fetch(`${a.baseURL}${e}/?id=${t}&status=started`);return await n.json()},e.stopEngine=async t=>{const e=s.Path.engine,n=await fetch(`${a.baseURL}${e}/?id=${t}&status=stopped`);return await n.json()},e.drive=async t=>{const e=s.Path.engine,n=await fetch(`${a.baseURL}${e}/?id=${t}&status=drive`);return 200===n.status?(await n.json()).success:(n.status,!1)}},600:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.deleteCar=e.updateCarProp=e.updateCar=e.createCar=e.getCar=e.getCars=void 0;const a=n(293),s=n(919);e.getCars=async(t=1,e=7)=>{const n=s.Path.garage,i=await fetch(`${a.baseURL}${n}?_page=${t}&_limit=${e}`),r=await i.json(),o=Number(i.headers.get("X-Total-Count"));return{dataCars:r,countCars:o,currentPage:Math.ceil(o/7)}},e.getCar=async(t=1)=>{const e=s.Path.garage,n=await fetch(`${a.baseURL}${e}/${t}`);return await n.json()},e.createCar=async t=>{const e=s.Path.garage,n=await fetch(`${a.baseURL}${e}`,{method:s.Method.POST,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return await n.json()},e.updateCar=async(t,e)=>{const n=s.Path.garage,i=await fetch(`${a.baseURL}${n}/${t}`,{method:s.Method.PUT,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await i.json()},e.updateCarProp=async(t,e)=>{const n=s.Path.garage,i=await fetch(`${a.baseURL}${n}/${t}`,{method:s.Method.PATCH,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await i.json()},e.deleteCar=async t=>{const e=s.Path.garage,n=await fetch(`${a.baseURL}${e}/${t}`,{method:s.Method.DELETE});return await n.json()}},579:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.saveWinner=e.getWinnerStatus=e.updateWinner=e.deleteWinner=e.createWinner=e.getWinner=e.getWinners=void 0;const a=n(293),s=n(919),i=n(600);e.getWinners=async(t=1,e=10,n,r)=>{const o=s.Path.winners,c=await fetch(`${a.baseURL}${o}?_page=${t}&_limit=${e}${((t,e)=>t&&e?`&_sort=${t}&_order=${e}`:"")(n,r)} `),l=await c.json(),u=Math.ceil(Number(c.headers.get("X-Total-Count"))/10);return{items:await Promise.all(l.map((async t=>({...t,car:await i.getCar(t.id)})))),count:Number(c.headers.get("X-Total-Count")),currentPage:u}},e.getWinner=async t=>{const e=s.Path.winners,n=await fetch(`${a.baseURL}${e}/${t}`);return await n.json()},e.createWinner=async t=>{const e=s.Path.winners,n=await fetch(`${a.baseURL}${e}`,{method:s.Method.POST,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return await n.json()},e.deleteWinner=async t=>{const e=s.Path.winners,n=await fetch(`${a.baseURL}${e}/${t}`,{method:s.Method.DELETE});return await n.json()},e.updateWinner=async(t,e)=>{const n=s.Path.winners,i=await fetch(`${a.baseURL}${n}/${t}`,{method:s.Method.PUT,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await i.json()},e.getWinnerStatus=async t=>{const e=s.Path.winners;return(await fetch(`${a.baseURL}${e}/${t}`)).status},e.saveWinner=async(t,n)=>{const a=await e.getWinnerStatus(t);if(404===a)await e.createWinner({id:t,wins:1,time:n});else{const a=await e.getWinner(t);a.wins&&a.time&&await e.updateWinner(t,{id:t,wins:a.wins++,time:n<a.time?n:a.time}),a.wins&&a.time&&console.log(await e.updateWinner(t,{id:t,wins:a.wins++,time:n<a.time?n:a.time}))}return a}},941:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0,e.Button=class{constructor(t=[]){this.button=document.createElement("button"),this.button.classList.add(...t)}}},70:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseComponentForm=void 0,e.BaseComponentForm=class{constructor(t=[]){this.form=document.createElement("form"),this.form.classList.add(...t)}}},855:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Input=void 0,e.Input=class{constructor(t=[]){this.input=document.createElement("input"),this.input.classList.add(...t)}}},804:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Link=void 0,e.Link=class{constructor(t=[]){this.link=document.createElement("a"),this.link.classList.add(...t)}}},899:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0,e.Table=class{constructor(t=[]){this.table=document.createElement("table"),this.table.classList.add(...t)}}},188:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseComponent=void 0,e.BaseComponent=class{constructor(t="div",e=[],n=""){this.element=document.createElement(t),this.element.classList.add(...e),this.element.innerHTML=n}}},293:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.names=e.models=e.totalWinnersOnPage=e.totalCarsOnPage=e.baseURL=void 0,e.baseURL="http://127.0.0.1:3000",e.totalCarsOnPage=7,e.totalWinnersOnPage=10,e.models=["Mazda","Toyota","Subaru","Kia","Honda","Lexus","Tesla","Nissan","Ferrari","BMW","VolksWagen","Porsche","Mercedes","Corvette","Audi","Bugatti"],e.names=["Veyron","R8","ZR1","458","320d","S-Class","911","GT-R","CX-30","Golf"],e.default={}},919:(t,e)=>{var n,a;Object.defineProperty(e,"__esModule",{value:!0}),e.Method=e.Path=void 0,(a=e.Path||(e.Path={})).garage="/garage",a.engine="/engine",a.winners="/winners",(n=e.Method||(e.Method={})).GET="GET",n.POST="POST",n.PUT="PUT",n.PATCH="PATCH",n.DELETE="DELETE"},864:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getCarIcon=e.stopDriving=e.startDriving=e.animation=e.getDistanceBtwElements=e.getPositionCenter=e.generateRandomCars=e.getRandomColor=e.getRandomName=void 0;const a=n(951),s=n(293);e.getRandomName=()=>`${s.models[Math.floor(Math.random()*s.models.length)]} ${s.names[Math.floor(Math.random()*s.names.length)]}`,e.getRandomColor=()=>{let t="#";for(let e=0;e<6;e++)t+="0123456789abcdef"[Math.floor(16*Math.random())];return t},e.generateRandomCars=(t=100)=>new Array(t).fill(1).map((t=>({name:e.getRandomName(),color:e.getRandomColor()}))),e.getPositionCenter=t=>{const{top:e,left:n,width:a,height:s}=t.getBoundingClientRect();return{x:n+a/2,y:e+s/2}},e.getDistanceBtwElements=(t,n)=>{const a=e.getPositionCenter(t),s=e.getPositionCenter(n);return Math.hypot(a.x-s.x,a.y-s.y)};let i=[];e.animation=(t,e,n,a)=>{let s=null;const r={};return r.idCar=a.id,r.idAnimation=window.requestAnimationFrame((function a(i){s||(s=i);const o=i-s,c=Math.round(o*(e/n));t.style.transform=`translateX(${Math.min(c,e)}px)`,c<e&&(r.idAnimation=window.requestAnimationFrame(a))})),i.push(r),i},e.startDriving=async(t,n,s,r,o)=>{t.button.disabled=!0,t.button.classList.add("not-active"),n.button.removeAttribute("disabled"),n.button.classList.remove("not-active");const{velocity:c,distance:l}=await a.startEngine(o.id),u=Math.round(l/c),d=Math.floor(e.getDistanceBtwElements(s,r))+100;let h;setTimeout((()=>{t.button.disabled=!1,t.button.classList.remove("not-active"),n.button.setAttribute("disabled","disabled"),n.button.classList.add("not-active")}),u),i=e.animation(s,d,u,o);const{id:b}=o;return await a.drive(o.id).then((t=>{h=t,!1===t&&i.forEach((t=>{t.idCar===o.id&&window.cancelAnimationFrame(t.idAnimation)}))})),{success:h,id:b,timeAnimation:u}},e.stopDriving=async(t,e,n,s)=>{t.setAttribute("disabled","disabled"),t.classList.add("not-active"),await a.stopEngine(e.id).then((()=>{s.style.transform="translateX(0px)",n.removeAttribute("disabled"),n.classList.remove("not-active"),i.forEach((t=>{t.idCar===e.id&&window.cancelAnimationFrame(t.idAnimation)}))}))},e.getCarIcon=(t="black")=>`<svg\n    class="car__icon"\n    version="1.0"\n    xmlns="http://www.w3.org/2000/svg"\n    viewBox="0 0 1280 640"\n    stroke="black"\n    stroke-width="20"\n    fill="${t}"\n    ><path\n        d="M356.5 106.4c-10.6 3-10.1 2.6-10.8 11.1-.4 4.2-.9 8-1.2 8.5-.6 1-24.6 10.5-59 23.4-44.8 16.7-105.2 41.5-117.3 48.3-7.8 4.3-19.3 9.1-25 10.4-2.3.5-9.8 1.4-16.5 1.9-6.7.6-16.7 1.9-22.2 3-15.4 3.1-34 4.9-56.3 5.7l-20.3.6-4.3 6.6c-5.9 9.1-6 9.5-2.6 13 3.7 3.7 3.8 6.5.3 15-2.5 6.2-2.7 7.8-3.1 25.6l-.4 19-3.8 3.2C4.9 309.5.7 322.6.6 343.5c0 19.4 1.1 39.6 2.6 48.2 1.3 7.1 1.4 7.4 7.2 12.2 6.9 5.8 13 12.9 15.8 18.4 6.4 12.6 53.4 21.1 138.4 25l9.2.4-.6-11.9c-.6-14.2.8-25.6 4.9-38.3 11.2-35.2 39.4-62.2 75.6-72.2 9-2.6 11.2-2.8 27.8-2.8 16.5 0 18.8.2 27.8 2.7 20.1 5.6 36.1 15.2 50.4 30.2 14 14.5 22.2 29.3 27.4 49.2 2.1 7.9 2.4 10.9 2.3 27.9-.1 12.7-.6 21.4-1.6 26.3l-1.5 7.3 300.6-.7c165.3-.4 300.7-.8 300.9-.9.1-.1-.8-3.7-2-8.1-1.9-6.7-2.2-10.5-2.2-25.9-.1-16.6.1-18.7 2.7-27.9 11.7-42.1 46.7-73.6 88.5-79.7 11.9-1.7 32.5-.7 43.2 2.1 23.9 6.3 45.3 20.5 60.1 39.9 7 9.2 15.4 26.7 18.5 38.6 2.4 8.8 2.7 11.9 2.7 26 .1 11.6-.4 18.1-1.6 23.4-1 4.1-1.6 7.5-1.5 7.6.2.1 6.2-.2 13.3-.6 26.6-1.6 45.8-4.5 52.5-7.9 4.8-2.4 9.7-8.1 12.7-14.6l2.4-5.2-1.6-15.7c-1.5-15.2-1.5-16.3.4-28.4 6.3-38.8 5-68-3.5-80.2-13.4-19.3-52.6-33.6-142.9-51.9-73.7-14.9-132.2-20.9-203.3-21-22.8 0-22.6 0-34.7-8.5-18.7-13.1-104.5-60.7-147.1-81.5-38.3-18.7-78.8-28.1-143.9-33.2-20.8-1.7-110.6-1.6-140 0-12.1.7-31.4 1.9-43 2.7-30.2 2.2-28.6 2.2-34.1-1-14-8.1-18.7-9.4-26.9-7.1zM545 139.7c.6 3.7 3.8 23.8 7.1 44.6 3.2 20.9 6.6 42.2 7.5 47.4.9 5.2 1.5 9.6 1.3 9.7-1.1.9-169.9-2.9-195.1-4.4-20.6-1.3-41.7-3.6-48.5-5.4-9.8-2.6-19.8-11.9-24.9-23.1-3.5-7.5-3.6-17.2-.5-25.5 1.7-4.5 3-6.1 6.8-8.6 8.3-5.4 13.5-8 25.3-12.7 34.1-13.6 85.8-23 146-26.7 26.9-1.6 27-1.6 51.1-1.8l22.7-.2 1.2 6.7zm63-4.7c26.4 1.8 77.7 11 102.9 18.6 18.6 5.6 44.5 18.8 75.6 38.7 21.1 13.4 27.4 18.1 25 18.5-7.5 1.2-13.3 5-16.2 10.6-1.9 3.5-2.1 13.6-.4 17.9l1.1 2.7-90.7-.2-90.6-.3-5.9-16c-11-30.2-29.8-87.8-29.8-91.6 0-.6 9.5-.2 29 1.1z"\n      />\n      <path\n        d="M263.3 327.5c-22.3 4-41 14.1-56.8 30.6-13.2 13.8-21.3 28.3-26.2 46.7-2.2 8.3-2.6 11.9-2.6 24.7-.1 16.9 1 23.6 6.5 38.2 8.7 23 27.1 43.6 49.3 55.1 8.5 4.4 17.8 7.8 27.1 9.8 10.7 2.3 31.2 2.3 41.9-.1 39.2-8.4 69.9-37.5 80.2-76.1 2.3-8.6 2.6-12 2.7-25.4.1-15.8-.5-19.9-4.6-33-9.8-31-35.5-56.7-66.8-66.9-15-5-35.4-6.4-50.7-3.6zm35 30.1c24.9 5.6 45.7 24.7 54.3 49.9 2.5 7.2 2.8 9.5 2.8 22 .1 15.3-1.5 22.8-7.4 34.5-9.4 18.6-28.3 33.7-48.5 38.6-9.6 2.4-26.8 2.4-36 0-32-8.4-54.4-35.5-56.2-68.1-2-35.9 20.9-67.3 55.8-76.5 9.4-2.4 25.3-2.6 35.2-.4z"\n      />\n      <path\n        d="M260 370.3c-3.6 1.3-8.5 3.6-10.9 5.1l-4.4 2.8 11.6 11.5c8.1 8.2 12 11.4 13.1 11 1.4-.6 1.6-2.9 1.6-16.7 0-18.6.6-17.8-11-13.7zM292 383.9c0 13.9.2 16.2 1.6 16.8 1.1.4 5-2.8 13-10.8l11.5-11.4-2.8-2.2c-3.4-2.8-13.8-7-19.3-7.9l-4-.7v16.2zM228.2 395.2c-2.8 3.6-9.2 19.1-9.2 22.5 0 1 3.4 1.3 16.5 1.3 15.1 0 16.5-.1 16.5-1.8 0-1.5-20.6-23.2-22.1-23.2-.4 0-1.1.6-1.7 1.2zM322.2 404.9c-6.2 5.9-11.2 11.5-11.2 12.4 0 1.5 1.7 1.7 16.5 1.7 13.1 0 16.5-.3 16.5-1.3 0-4-6.9-20.5-9.5-22.7-.7-.6-4.8 2.7-12.3 9.9zM278.1 406.8c-1.2 2.2 1.1 6.2 3.4 6.2.8 0 2.1-1 2.9-2.2 2-2.8.4-5.8-2.9-5.8-1.3 0-2.9.8-3.4 1.8zM274.9 423.9c-3.2 3.3-3.7 6.7-1.4 11 2.9 5.7 10.4 6.4 15.1 1.4 5.3-5.7.9-15.3-7.1-15.3-2.7 0-4.4.8-6.6 2.9zM257 427.5c-2.6 3.2 1.3 8.1 4.8 5.9 2.4-1.6 2.7-4.5.6-6.1-2.3-1.7-3.9-1.6-5.4.2zM300.6 427.6c-2 1.9-2 3.8-.2 5.4 2.3 1.9 6.1.8 6.4-1.8.7-4.4-3.2-6.7-6.2-3.6zM219 442.5c0 2.9 4.1 14 7.2 19.4l3.1 5.3 11.7-11.7c7.1-7.1 11.6-12.3 11.3-13.1-.4-1.1-4-1.4-16.9-1.4-14.1 0-16.4.2-16.4 1.5zM311 442.8c0 .9 5.1 6.8 11.4 13.1l11.4 11.4 3.1-5.4c3-5.1 7.1-16.5 7.1-19.5 0-1.1-3.1-1.4-16.5-1.4-15.1 0-16.5.1-16.5 1.8zM278 449.9c-.7 1.5-.5 2.4.8 4.1 3.2 4 8.5.4 6.2-4.1-1.4-2.5-5.6-2.5-7 0zM256.2 470.3c-6.1 6.2-11.2 11.5-11.2 11.9 0 1.8 20.8 10.8 24.9 10.8.7 0 1.1-5.4 1.1-16.4 0-14-.2-16.5-1.6-17-.9-.3-1.6-.6-1.7-.6-.1 0-5.3 5.1-11.5 11.3zM293.3 459.7c-1.5.6-1.9 33.3-.4 33.3 4.6 0 25.1-8.8 25.1-10.8 0-.9-22.3-23.2-23-23.1-.3 0-1.1.3-1.7.6zM1070 328.1c-39 8.4-69.6 37.6-79.7 75.9-3.1 11.7-4.1 29.2-2.4 41.1 3.3 22.7 15 45.3 31.8 60.9 26.7 25 64.3 34.4 99.3 24.9 11.7-3.2 28.3-11.8 38-19.6 48.7-39.6 51.8-112.8 6.7-156-9.7-9.3-16.6-14-29-19.8-13.7-6.4-23.5-8.6-40.7-9.1-12-.3-16.2 0-24 1.7zm44.5 31.3c23.8 8.1 40.9 25.8 48.6 50.6 3 9.6 3.3 28.9.5 38.8-11 40-51.3 63.7-91.1 53.6-14.9-3.8-31.3-14.7-40.2-26.7-17.6-23.8-20.3-53.3-7.1-79.7 3.4-6.9 6-10.3 13.8-18 7.7-7.8 11.1-10.4 18.1-13.9 12.9-6.5 20.7-8.1 36.4-7.7 10.9.3 14.3.7 21 3z"\n      />\n      <path\n        d="M1070.3 370c-5.4 1.9-15.3 7.1-15.3 8 0 .3 5.1 5.7 11.4 11.9 8 8 11.9 11.2 13 10.8 1.4-.5 1.6-2.9 1.6-16.7v-16l-2.7.1c-1.6 0-5.2.9-8 1.9zM1102 383.9c0 13.9.2 16.2 1.6 16.8 2.2.8 24.7-21.6 23.4-23.2-1.7-2-16.3-8.4-20.7-9.1l-4.3-.7v16.2zM1036.6 397.6c-2.9 4.4-7.6 16.5-7.6 19.4 0 1.9.7 2 16.5 2 12.6 0 16.5-.3 16.5-1.3 0-.7-5.1-6.3-11.4-12.6l-11.4-11.4-2.6 3.9zM1131.3 405.2c-6.1 6.2-10.9 11.9-10.6 12.5.6 1.5 33.3 1.9 33.3.4 0-4.5-8.8-24.1-10.8-24.1-.4 0-5.7 5.1-11.9 11.2zM1088.2 406.2c-1.7 1.7-1.5 3.2.7 5.2 1.6 1.4 2.3 1.5 4.1.6 3.1-1.7 2.4-6.4-1-6.8-1.4-.2-3.1.3-3.8 1zM1084.6 424.1c-6.8 8.1 1.7 19.4 11 14.4 8.9-4.8 5.6-17.5-4.6-17.5-3 0-4.4.6-6.4 3.1zM1067 427.4c-1.9 2.3-.8 6.1 1.8 6.4 4.4.7 6.7-3.2 3.6-6.2-1.9-2-3.8-2-5.4-.2zM1110.6 427.3c-2.1 1.6-1.8 4.5.7 6.1 3.7 2.3 7.7-3.5 4.1-6.1-1-.7-2.1-1.3-2.4-1.3-.3 0-1.4.6-2.4 1.3zM1029 443c0 2.9 4.3 14.1 7.4 19.5l2.8 4.8 11.6-11.6c8.1-8.1 11.3-12 10.9-13.1-.6-1.4-2.9-1.6-16.7-1.6-15.2 0-16 .1-16 2zM1120.7 442.2c-.3.7 4.7 6.6 11.1 13l11.6 11.8 2.7-4.3c2.7-4.4 7.9-17.7 7.9-20.3 0-1.2-2.8-1.4-16.4-1.4-12.2 0-16.6.3-16.9 1.2zM1088.1 449.9c-1.4 2.5-.5 4.8 2 5.6 2.7.9 5.1-1.3 4.7-4.4-.4-3.4-5.1-4.3-6.7-1.2zM1066.2 470.3c-6.1 6.2-11.2 11.5-11.2 11.9 0 2 20.1 10.8 24.7 10.8 1 0 1.3-3.4 1.3-16.4 0-14-.2-16.5-1.6-17-.9-.3-1.6-.6-1.7-.6-.1 0-5.3 5.1-11.5 11.3zM1103.3 459.7c-1 .3-1.3 4.7-1.3 16.9 0 9 .4 16.4.8 16.4 3.6 0 18.6-6.1 23.9-9.8 1.6-1-21.6-24.2-23.4-23.5z"\n      />\n      </svg>`},556:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CarItem=void 0;const a=n(600),s=n(579),i=n(188),r=n(941),o=n(864);class c extends i.BaseComponent{constructor(t,e){super("li",["garage__item"]),this.buttonRemoveHandler=async t=>{await a.deleteCar(t.id),await s.deleteWinner(t.id),this.element.remove(),document.dispatchEvent(new CustomEvent("updateNumberCars",{bubbles:!0}))},this.buttonStartHandler=async t=>{o.startDriving(this.buttonStart,this.buttonStop,this.carIcon.element,this.flag.element,t)},this.buttonStopHandler=async t=>{o.stopDriving(this.buttonStop.button,t,this.buttonStart.button,this.carIcon.element)},this.race=async t=>await t(this.buttonStart,this.buttonStop,this.carIcon.element,this.flag.element,this.car),this.getCarIcon=(t="black")=>`<svg\n    class="car__icon"\n    version="1.0"\n    xmlns="http://www.w3.org/2000/svg"\n    viewBox="0 0 1280 640"\n    stroke="black"\n    stroke-width="20"\n    fill="${t}"\n    ><path\n        d="M356.5 106.4c-10.6 3-10.1 2.6-10.8 11.1-.4 4.2-.9 8-1.2 8.5-.6 1-24.6 10.5-59 23.4-44.8 16.7-105.2 41.5-117.3 48.3-7.8 4.3-19.3 9.1-25 10.4-2.3.5-9.8 1.4-16.5 1.9-6.7.6-16.7 1.9-22.2 3-15.4 3.1-34 4.9-56.3 5.7l-20.3.6-4.3 6.6c-5.9 9.1-6 9.5-2.6 13 3.7 3.7 3.8 6.5.3 15-2.5 6.2-2.7 7.8-3.1 25.6l-.4 19-3.8 3.2C4.9 309.5.7 322.6.6 343.5c0 19.4 1.1 39.6 2.6 48.2 1.3 7.1 1.4 7.4 7.2 12.2 6.9 5.8 13 12.9 15.8 18.4 6.4 12.6 53.4 21.1 138.4 25l9.2.4-.6-11.9c-.6-14.2.8-25.6 4.9-38.3 11.2-35.2 39.4-62.2 75.6-72.2 9-2.6 11.2-2.8 27.8-2.8 16.5 0 18.8.2 27.8 2.7 20.1 5.6 36.1 15.2 50.4 30.2 14 14.5 22.2 29.3 27.4 49.2 2.1 7.9 2.4 10.9 2.3 27.9-.1 12.7-.6 21.4-1.6 26.3l-1.5 7.3 300.6-.7c165.3-.4 300.7-.8 300.9-.9.1-.1-.8-3.7-2-8.1-1.9-6.7-2.2-10.5-2.2-25.9-.1-16.6.1-18.7 2.7-27.9 11.7-42.1 46.7-73.6 88.5-79.7 11.9-1.7 32.5-.7 43.2 2.1 23.9 6.3 45.3 20.5 60.1 39.9 7 9.2 15.4 26.7 18.5 38.6 2.4 8.8 2.7 11.9 2.7 26 .1 11.6-.4 18.1-1.6 23.4-1 4.1-1.6 7.5-1.5 7.6.2.1 6.2-.2 13.3-.6 26.6-1.6 45.8-4.5 52.5-7.9 4.8-2.4 9.7-8.1 12.7-14.6l2.4-5.2-1.6-15.7c-1.5-15.2-1.5-16.3.4-28.4 6.3-38.8 5-68-3.5-80.2-13.4-19.3-52.6-33.6-142.9-51.9-73.7-14.9-132.2-20.9-203.3-21-22.8 0-22.6 0-34.7-8.5-18.7-13.1-104.5-60.7-147.1-81.5-38.3-18.7-78.8-28.1-143.9-33.2-20.8-1.7-110.6-1.6-140 0-12.1.7-31.4 1.9-43 2.7-30.2 2.2-28.6 2.2-34.1-1-14-8.1-18.7-9.4-26.9-7.1zM545 139.7c.6 3.7 3.8 23.8 7.1 44.6 3.2 20.9 6.6 42.2 7.5 47.4.9 5.2 1.5 9.6 1.3 9.7-1.1.9-169.9-2.9-195.1-4.4-20.6-1.3-41.7-3.6-48.5-5.4-9.8-2.6-19.8-11.9-24.9-23.1-3.5-7.5-3.6-17.2-.5-25.5 1.7-4.5 3-6.1 6.8-8.6 8.3-5.4 13.5-8 25.3-12.7 34.1-13.6 85.8-23 146-26.7 26.9-1.6 27-1.6 51.1-1.8l22.7-.2 1.2 6.7zm63-4.7c26.4 1.8 77.7 11 102.9 18.6 18.6 5.6 44.5 18.8 75.6 38.7 21.1 13.4 27.4 18.1 25 18.5-7.5 1.2-13.3 5-16.2 10.6-1.9 3.5-2.1 13.6-.4 17.9l1.1 2.7-90.7-.2-90.6-.3-5.9-16c-11-30.2-29.8-87.8-29.8-91.6 0-.6 9.5-.2 29 1.1z"\n      />\n      <path\n        d="M263.3 327.5c-22.3 4-41 14.1-56.8 30.6-13.2 13.8-21.3 28.3-26.2 46.7-2.2 8.3-2.6 11.9-2.6 24.7-.1 16.9 1 23.6 6.5 38.2 8.7 23 27.1 43.6 49.3 55.1 8.5 4.4 17.8 7.8 27.1 9.8 10.7 2.3 31.2 2.3 41.9-.1 39.2-8.4 69.9-37.5 80.2-76.1 2.3-8.6 2.6-12 2.7-25.4.1-15.8-.5-19.9-4.6-33-9.8-31-35.5-56.7-66.8-66.9-15-5-35.4-6.4-50.7-3.6zm35 30.1c24.9 5.6 45.7 24.7 54.3 49.9 2.5 7.2 2.8 9.5 2.8 22 .1 15.3-1.5 22.8-7.4 34.5-9.4 18.6-28.3 33.7-48.5 38.6-9.6 2.4-26.8 2.4-36 0-32-8.4-54.4-35.5-56.2-68.1-2-35.9 20.9-67.3 55.8-76.5 9.4-2.4 25.3-2.6 35.2-.4z"\n      />\n      <path\n        d="M260 370.3c-3.6 1.3-8.5 3.6-10.9 5.1l-4.4 2.8 11.6 11.5c8.1 8.2 12 11.4 13.1 11 1.4-.6 1.6-2.9 1.6-16.7 0-18.6.6-17.8-11-13.7zM292 383.9c0 13.9.2 16.2 1.6 16.8 1.1.4 5-2.8 13-10.8l11.5-11.4-2.8-2.2c-3.4-2.8-13.8-7-19.3-7.9l-4-.7v16.2zM228.2 395.2c-2.8 3.6-9.2 19.1-9.2 22.5 0 1 3.4 1.3 16.5 1.3 15.1 0 16.5-.1 16.5-1.8 0-1.5-20.6-23.2-22.1-23.2-.4 0-1.1.6-1.7 1.2zM322.2 404.9c-6.2 5.9-11.2 11.5-11.2 12.4 0 1.5 1.7 1.7 16.5 1.7 13.1 0 16.5-.3 16.5-1.3 0-4-6.9-20.5-9.5-22.7-.7-.6-4.8 2.7-12.3 9.9zM278.1 406.8c-1.2 2.2 1.1 6.2 3.4 6.2.8 0 2.1-1 2.9-2.2 2-2.8.4-5.8-2.9-5.8-1.3 0-2.9.8-3.4 1.8zM274.9 423.9c-3.2 3.3-3.7 6.7-1.4 11 2.9 5.7 10.4 6.4 15.1 1.4 5.3-5.7.9-15.3-7.1-15.3-2.7 0-4.4.8-6.6 2.9zM257 427.5c-2.6 3.2 1.3 8.1 4.8 5.9 2.4-1.6 2.7-4.5.6-6.1-2.3-1.7-3.9-1.6-5.4.2zM300.6 427.6c-2 1.9-2 3.8-.2 5.4 2.3 1.9 6.1.8 6.4-1.8.7-4.4-3.2-6.7-6.2-3.6zM219 442.5c0 2.9 4.1 14 7.2 19.4l3.1 5.3 11.7-11.7c7.1-7.1 11.6-12.3 11.3-13.1-.4-1.1-4-1.4-16.9-1.4-14.1 0-16.4.2-16.4 1.5zM311 442.8c0 .9 5.1 6.8 11.4 13.1l11.4 11.4 3.1-5.4c3-5.1 7.1-16.5 7.1-19.5 0-1.1-3.1-1.4-16.5-1.4-15.1 0-16.5.1-16.5 1.8zM278 449.9c-.7 1.5-.5 2.4.8 4.1 3.2 4 8.5.4 6.2-4.1-1.4-2.5-5.6-2.5-7 0zM256.2 470.3c-6.1 6.2-11.2 11.5-11.2 11.9 0 1.8 20.8 10.8 24.9 10.8.7 0 1.1-5.4 1.1-16.4 0-14-.2-16.5-1.6-17-.9-.3-1.6-.6-1.7-.6-.1 0-5.3 5.1-11.5 11.3zM293.3 459.7c-1.5.6-1.9 33.3-.4 33.3 4.6 0 25.1-8.8 25.1-10.8 0-.9-22.3-23.2-23-23.1-.3 0-1.1.3-1.7.6zM1070 328.1c-39 8.4-69.6 37.6-79.7 75.9-3.1 11.7-4.1 29.2-2.4 41.1 3.3 22.7 15 45.3 31.8 60.9 26.7 25 64.3 34.4 99.3 24.9 11.7-3.2 28.3-11.8 38-19.6 48.7-39.6 51.8-112.8 6.7-156-9.7-9.3-16.6-14-29-19.8-13.7-6.4-23.5-8.6-40.7-9.1-12-.3-16.2 0-24 1.7zm44.5 31.3c23.8 8.1 40.9 25.8 48.6 50.6 3 9.6 3.3 28.9.5 38.8-11 40-51.3 63.7-91.1 53.6-14.9-3.8-31.3-14.7-40.2-26.7-17.6-23.8-20.3-53.3-7.1-79.7 3.4-6.9 6-10.3 13.8-18 7.7-7.8 11.1-10.4 18.1-13.9 12.9-6.5 20.7-8.1 36.4-7.7 10.9.3 14.3.7 21 3z"\n      />\n      <path\n        d="M1070.3 370c-5.4 1.9-15.3 7.1-15.3 8 0 .3 5.1 5.7 11.4 11.9 8 8 11.9 11.2 13 10.8 1.4-.5 1.6-2.9 1.6-16.7v-16l-2.7.1c-1.6 0-5.2.9-8 1.9zM1102 383.9c0 13.9.2 16.2 1.6 16.8 2.2.8 24.7-21.6 23.4-23.2-1.7-2-16.3-8.4-20.7-9.1l-4.3-.7v16.2zM1036.6 397.6c-2.9 4.4-7.6 16.5-7.6 19.4 0 1.9.7 2 16.5 2 12.6 0 16.5-.3 16.5-1.3 0-.7-5.1-6.3-11.4-12.6l-11.4-11.4-2.6 3.9zM1131.3 405.2c-6.1 6.2-10.9 11.9-10.6 12.5.6 1.5 33.3 1.9 33.3.4 0-4.5-8.8-24.1-10.8-24.1-.4 0-5.7 5.1-11.9 11.2zM1088.2 406.2c-1.7 1.7-1.5 3.2.7 5.2 1.6 1.4 2.3 1.5 4.1.6 3.1-1.7 2.4-6.4-1-6.8-1.4-.2-3.1.3-3.8 1zM1084.6 424.1c-6.8 8.1 1.7 19.4 11 14.4 8.9-4.8 5.6-17.5-4.6-17.5-3 0-4.4.6-6.4 3.1zM1067 427.4c-1.9 2.3-.8 6.1 1.8 6.4 4.4.7 6.7-3.2 3.6-6.2-1.9-2-3.8-2-5.4-.2zM1110.6 427.3c-2.1 1.6-1.8 4.5.7 6.1 3.7 2.3 7.7-3.5 4.1-6.1-1-.7-2.1-1.3-2.4-1.3-.3 0-1.4.6-2.4 1.3zM1029 443c0 2.9 4.3 14.1 7.4 19.5l2.8 4.8 11.6-11.6c8.1-8.1 11.3-12 10.9-13.1-.6-1.4-2.9-1.6-16.7-1.6-15.2 0-16 .1-16 2zM1120.7 442.2c-.3.7 4.7 6.6 11.1 13l11.6 11.8 2.7-4.3c2.7-4.4 7.9-17.7 7.9-20.3 0-1.2-2.8-1.4-16.4-1.4-12.2 0-16.6.3-16.9 1.2zM1088.1 449.9c-1.4 2.5-.5 4.8 2 5.6 2.7.9 5.1-1.3 4.7-4.4-.4-3.4-5.1-4.3-6.7-1.2zM1066.2 470.3c-6.1 6.2-11.2 11.5-11.2 11.9 0 2 20.1 10.8 24.7 10.8 1 0 1.3-3.4 1.3-16.4 0-14-.2-16.5-1.6-17-.9-.3-1.6-.6-1.7-.6-.1 0-5.3 5.1-11.5 11.3zM1103.3 459.7c-1 .3-1.3 4.7-1.3 16.9 0 9 .4 16.4.8 16.4 3.6 0 18.6-6.1 23.9-9.8 1.6-1-21.6-24.2-23.4-23.5z"\n      />\n      </svg>`,this.wrapperGeneralButtons=new i.BaseComponent("div",["garage__general-buttons"]),this.buttonSelect=new r.Button(["garage__select-button","button"]),this.buttonSelect.button.textContent="select",this.buttonRemove=new r.Button(["garage__remove-button","button"]),this.buttonRemove.button.textContent="remove",this.carName=new i.BaseComponent("span",["garage__car-name"]),this.carName.element.textContent=t.name,this.road=new i.BaseComponent("div",["road"]),this.wrapperControlButtons=new i.BaseComponent("div",["garage__control-buttons"]),this.buttonStart=new r.Button(["garage__start-engine-button"]),this.buttonStop=new r.Button(["garage__stop-engine-button","not-active"]),this.carIcon=new i.BaseComponent("div",["car"]),this.carIcon.element.innerHTML=this.getCarIcon(t.color),this.flag=new i.BaseComponent("div",["road__flag"]),this.currentPage=e,this.buttonSelect.button.addEventListener("click",(()=>{this.buttonSelectHandler(t)})),this.buttonRemove.button.addEventListener("click",(()=>{this.buttonRemoveHandler(t)})),this.buttonStart.button.addEventListener("click",(async()=>{await this.buttonStartHandler(t)})),this.buttonStop.button.addEventListener("click",(async()=>{await this.buttonStopHandler(t)})),this.car=t,document.dispatchEvent(new CustomEvent("getData",{bubbles:!0,detail:{buttonStop:this.buttonStop.button,buttonStart:this.buttonStart.button,carIcon:this.carIcon.element}}))}render(){return this.wrapperGeneralButtons.element.append(this.buttonSelect.button,this.buttonRemove.button,this.carName.element),this.wrapperControlButtons.element.append(this.buttonStart.button,this.buttonStop.button),this.road.element.append(this.wrapperControlButtons.element,this.carIcon.element,this.flag.element),this.element.append(this.wrapperGeneralButtons.element,this.road.element),this.element}buttonSelectHandler(t){const e=document.getElementById("update-name"),n=document.getElementById("update-color"),a=document.getElementById("update-submit");null==e||e.removeAttribute("disabled"),null==n||n.removeAttribute("disabled"),null==a||a.removeAttribute("disabled"),document.dispatchEvent(new CustomEvent("selectCar",{bubbles:!0,detail:t}));const s=t=>{this.carName.element.textContent=t.detail.name,this.carIcon.element.innerHTML=this.getCarIcon(t.detail.color),document.removeEventListener("updateCar",s)};document.addEventListener("updateCar",s)}}e.CarItem=c},785:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FormCreate=void 0;const a=n(600),s=n(941),i=n(70),r=n(855);class o extends i.BaseComponentForm{constructor(){super(["car-view__form-create"]),this.idNum=5,this.inputText=new r.Input(["car-view__input"]),this.inputText.input.type="text",this.inputText.input.name="name",this.inputColor=new r.Input(["car-view__color"]),this.inputColor.input.type="color",this.inputColor.input.name="color",this.inputColor.input.setAttribute("value","#13406c"),this.buttonSubmit=new s.Button(["car-view__button","car-view__button--create","button"]),this.buttonSubmit.button.type="submit",this.buttonSubmit.button.textContent="create",this.form.addEventListener("submit",(async t=>{try{await this.formSubmitHandler(t)}catch(t){console.log(t)}}))}renderForm(){return this.form.append(this.inputText.input,this.inputColor.input,this.buttonSubmit.button),this.form}async formSubmitHandler(t){t.preventDefault();const e={name:this.inputText.input.value,color:this.inputColor.input.value};await a.createCar(e),this.form.reset(),document.dispatchEvent(new CustomEvent("createCar",{bubbles:!0,detail:e}))}}e.FormCreate=o},704:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FormUpdate=void 0;const a=n(600),s=n(941),i=n(70),r=n(855);class o extends i.BaseComponentForm{constructor(){super(["car-view__form-update"]),this.inputText=new r.Input(["car-view__input"]),this.inputText.input.id="update-name",this.inputText.input.type="text",this.inputText.input.name="name",this.inputText.input.disabled=!0,this.inputColor=new r.Input(["car-view__color"]),this.inputColor.input.id="update-color",this.inputColor.input.type="color",this.inputColor.input.name="color",this.inputColor.input.disabled=!0,this.inputColor.input.setAttribute("value","#a3dfe4"),this.buttonSubmit=new s.Button(["car-view__button","car-view__button--update","button"]),this.buttonSubmit.button.id="update-submit",this.buttonSubmit.button.type="submit",this.buttonSubmit.button.textContent="update",this.buttonSubmit.button.disabled=!0,document.addEventListener("selectCar",(async t=>{this.currentCarId=t.detail.id})),this.form.addEventListener("submit",(async t=>{this.formSubmitHandler(t)}))}renderForm(){return this.form.append(this.inputText.input,this.inputColor.input,this.buttonSubmit.button),this.form}async formSubmitHandler(t){const e=document.getElementById("update-name"),n=document.getElementById("update-color"),s=document.getElementById("update-submit");t.preventDefault();const i={name:this.inputText.input.value,color:this.inputColor.input.value,id:this.currentCarId};await a.updateCar(i.id,i),document.dispatchEvent(new CustomEvent("updateCar",{bubbles:!0,detail:i})),this.form.reset(),null==e||e.setAttribute("disabled","disabled"),null==n||n.setAttribute("disabled","disabled"),null==s||s.setAttribute("disabled","disabled")}}e.FormUpdate=o},323:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Header=void 0;const a=n(188),s=n(804);class i extends a.BaseComponent{constructor(t,e){super("header",["page-header"]),this.garageLinkHandler=()=>{this.garage.element.style.display="block",this.winners.element.style.display="none"},this.winnersLinkHandler=()=>{this.garage.element.style.display="none",this.winners.element.style.display="block",document.dispatchEvent(new CustomEvent("updateNumberWinners",{bubbles:!0}))},this.garageLink=new s.Link(["page-header__button","button"]),this.garageLink.link.textContent="to garage",this.winnersLink=new s.Link(["page-header__button","button"]),this.winnersLink.link.textContent="to winners",this.garage=t,this.winners=e,this.element.append(this.garageLink.link,this.winnersLink.link),this.garageLink.link.addEventListener("click",(()=>{this.garageLinkHandler()})),this.winnersLink.link.addEventListener("click",(()=>{this.winnersLinkHandler()}))}}e.Header=i},123:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Garage=void 0;const a=n(600),s=n(579),i=n(188),r=n(864),o=n(556),c=n(785),l=n(704),u=n(45),d=n(21);class h extends i.BaseComponent{constructor(){super("main",["page-main"]),this.arrayCarsForRace=[],this.render=async t=>(document.dispatchEvent(new CustomEvent("getPageNumberGarage",{bubbles:!0,detail:t})),this.carsList.element.innerHTML="",this.wrapperForm.element.append(this.formCreate.renderForm(),this.formUpdate.renderForm()),this.element.append(this.wrapperForm.element,this.raceControls.element,this.titlePage.element,this.titlePageNumber.element,this.carsList.element,this.pagination.element,this.message.element),this.titlePage.element.textContent=`Garage (${(await a.getCars()).countCars})`,this.titlePageNumber.element.textContent=`Page #${t}`,this.arrayCarsForRace=[],this.arrayCars=await(async()=>(await a.getCars(t,7)).dataCars)(),this.arrayCars.forEach((e=>{this.carItem=new o.CarItem(e,t),this.carsList.element.append(this.carItem.render()),this.arrayCarsForRace.push(this.carItem)})),this.element),this.getCurrentPage=async t=>{let e=t;return e=(await a.getCars()).currentPage,e},this.clickForRemoveMessage=()=>{document.body.classList.remove("substrate"),this.message.element.classList.add("hide")},this.wrapperForm=new i.BaseComponent("div",["car-view"]),this.formCreate=new c.FormCreate,this.formUpdate=new l.FormUpdate,this.raceControls=new d.RaceControls(this.currentPage),this.titlePage=new i.BaseComponent("h1",["page-main__title"]),this.titlePageNumber=new i.BaseComponent("h2",["page-main__page-number"]),this.carsList=new i.BaseComponent("ul",["garage__list"]),this.pagination=new u.Pagination,this.message=new i.BaseComponent("div",["message","hide"]),document.addEventListener("createCar",(async()=>{await this.getCurrentPage(this.currentPage).then((async t=>{await this.render(t)}))})),document.addEventListener("updateNumberCars",(async()=>{await this.getCurrentPage(this.currentPage).then((async t=>{this.render(this.currentPage)}))})),document.addEventListener("clickOnPagination",(async t=>{!0===t.detail?++this.currentPage:!1===t.detail&&--this.currentPage,this.render(this.currentPage)})),document.addEventListener("generateNewCars",(async()=>{await this.getCurrentPage(this.currentPage).then((async t=>{this.render(this.currentPage)}))})),this.getCurrentPage(this.currentPage).then((t=>{this.currentPage=t,this.render(this.currentPage)})),document.addEventListener("startRace",(async()=>{const t=[];(()=>new Promise((e=>{this.arrayCarsForRace.map((async n=>{await n.race(r.startDriving).then((async n=>{!0===n.success&&(await t.push(n),e(t))}))}))})))().then((async()=>{const e=await Promise.race(t),{id:n,timeAnimation:i}=e;await s.saveWinner(n,+(i/1e3).toFixed(2)).catch((t=>{console.log(`maybe no winner found: ${t}`)})),this.message.element.classList.remove("hide"),document.body.classList.add("substrate");const r=await a.getCar(n);this.message.element.textContent=`${r.name} went first in ${+(i/1e3).toFixed(2)} seconds`}))})),document.body.addEventListener("click",(()=>{this.clickForRemoveMessage()}))}}e.Garage=h},587:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Winners=void 0;const a=n(579),s=n(188),i=n(335),r=n(647);let o=null,c=null;class l extends s.BaseComponent{constructor(){super("main",["page-main"]),this.render=async t=>{document.dispatchEvent(new CustomEvent("getPageNumberWinners",{bubbles:!0,detail:t})),this.table.getValueWinners(t),this.element.append(this.titlePage.element,this.titlePageNumber.element,this.table.table,this.pagination.element);const{items:e,count:n}=await a.getWinners(t,10);return this.titlePage.element.textContent=`Winners (${n})`,this.titlePageNumber.element.textContent=`Page #${t}`,this.element},this.getCurrentPage=async t=>{let e=t;return e=(await a.getWinners()).currentPage,e},this.setSortOrder=async(t,e)=>{c="asc"===c?"desc":"asc",o=e;const{items:n,count:s}=await a.getWinners(this.currentPage,10,o,c);this.table.table.textContent="",this.table.getValueWinners(t,n)},this.element.style.display="none",this.titlePage=new s.BaseComponent("h1",["page-main__title"]),this.titlePageNumber=new s.BaseComponent("h2",["page-main__page-number"]),this.table=new r.TableWinners,this.pagination=new i.Pagination,this.getCurrentPage(this.currentPage).then((t=>{this.currentPage=t,this.render(this.currentPage)})),document.addEventListener("updateNumberWinners",(async()=>{this.table.table.textContent="",this.getCurrentPage(this.currentPage).then((t=>{this.currentPage=t})),this.render(this.currentPage)})),document.addEventListener("clickWinsTable",(async()=>{this.setSortOrder(this.currentPage,"wins")})),document.addEventListener("clickBestTimeTable",(async()=>{this.setSortOrder(this.currentPage,"time")})),document.addEventListener("clickOnPaginationWinner",(async t=>{!0===t.detail?++this.currentPage:!1===t.detail&&--this.currentPage,this.render(this.currentPage)}))}}e.Winners=l},335:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Pagination=void 0;const a=n(579),s=n(188),i=n(941),r=n(293);class o extends s.BaseComponent{constructor(){super("article",["pagination"]),this.showStateButtonsWinners=async()=>{let t;await document.addEventListener("getPageNumberWinners",(async e=>{this.currentCountWinners=(await a.getWinners()).count,t=e.detail,this.currentCountWinners>r.totalWinnersOnPage&&(t*r.totalWinnersOnPage<this.currentCountWinners?this.buttonNext.button.disabled=!1:this.buttonNext.button.disabled=!0,this.buttonPrev.button.disabled=!(t>1))}))},this.buttonPrevHandler=()=>{document.dispatchEvent(new CustomEvent("clickOnPaginationWinner",{bubbles:!0,detail:!1}))},this.buttonNextHandler=()=>{document.dispatchEvent(new CustomEvent("clickOnPaginationWinner",{bubbles:!0,detail:!0}))},this.buttonPrev=new i.Button(["pagination__button","prev-button","button"]),this.buttonPrev.button.textContent="Prev",this.buttonPrev.button.disabled=!0,this.buttonNext=new i.Button(["pagination__button","next-button","button"]),this.buttonNext.button.textContent="Next",this.buttonNext.button.disabled=!0,this.element.append(this.buttonPrev.button,this.buttonNext.button),this.showStateButtonsWinners(),this.buttonPrev.button.addEventListener("click",(()=>this.buttonPrevHandler())),this.buttonNext.button.addEventListener("click",(()=>this.buttonNextHandler()))}}e.Pagination=o},45:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Pagination=void 0;const a=n(600),s=n(188),i=n(941),r=n(293);class o extends s.BaseComponent{constructor(){super("article",["pagination"]),this.showStateButtonsGarage=async()=>{let t;await document.addEventListener("getPageNumberGarage",(async e=>{this.currentCountCars=(await a.getCars()).countCars,t=e.detail,this.currentCountCars>r.totalCarsOnPage&&(t*r.totalCarsOnPage<this.currentCountCars?this.buttonNext.button.disabled=!1:this.buttonNext.button.disabled=!0,this.buttonPrev.button.disabled=!(t>1))}))},this.buttonPrevHandler=()=>{document.dispatchEvent(new CustomEvent("clickOnPagination",{bubbles:!0,detail:!1}))},this.buttonNextHandler=()=>{document.dispatchEvent(new CustomEvent("clickOnPagination",{bubbles:!0,detail:!0}))},this.buttonPrev=new i.Button(["pagination__button","prev-button","button"]),this.buttonPrev.button.textContent="Prev",this.buttonPrev.button.disabled=!0,this.buttonNext=new i.Button(["pagination__button","next-button","button"]),this.buttonNext.button.textContent="Next",this.buttonNext.button.disabled=!0,this.element.append(this.buttonPrev.button,this.buttonNext.button),this.showStateButtonsGarage(),this.buttonPrev.button.addEventListener("click",(()=>this.buttonPrevHandler())),this.buttonNext.button.addEventListener("click",(()=>this.buttonNextHandler()))}}e.Pagination=o},21:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RaceControls=void 0;const a=n(600),s=n(188),i=n(941),r=n(864);class o extends s.BaseComponent{constructor(t){super("section",["race-controls"]),this.buttonGenerateHandler=async()=>{const t=r.generateRandomCars();await Promise.all(t.map((async t=>a.createCar(t)))),document.dispatchEvent(new CustomEvent("generateNewCars",{bubbles:!0}))},this.buttonRaceHandler=async()=>{this.buttonRace.button.disabled=!0,this.buttonReset.button.disabled=!1,document.dispatchEvent(new CustomEvent("startRace",{bubbles:!0}))},this.buttonResetHandler=async()=>{this.buttonReset.button.disabled=!0,this.buttonRace.button.disabled=!1,(await(async()=>(await a.getCars(this.currentPage)).dataCars)()).map((async(t,e)=>{const n=document.querySelectorAll(".garage__stop-engine-button")[e],a=document.querySelectorAll(".garage__start-engine-button")[e],s=document.querySelectorAll(".car")[e];return void 0!==n&&await r.stopDriving(n,t,a,s),document.dispatchEvent(new CustomEvent("stopRace",{bubbles:!0})),t}))},this.buttonRace=new i.Button(["race-controls__button","race-controls__button--race","button"]),this.buttonRace.button.textContent="Race",this.buttonReset=new i.Button(["race-controls__button","race-controls__button--Reset","button"]),this.buttonReset.button.disabled=!0,this.buttonReset.button.textContent="Reset",this.buttonGenerate=new i.Button(["race-controls__button","race-controls__button--generate","button"]),this.buttonGenerate.button.textContent="generate cars",this.element.append(this.buttonRace.button,this.buttonReset.button,this.buttonGenerate.button),this.currentPage=t,this.buttonGenerate.button.addEventListener("click",(async()=>{this.buttonGenerateHandler()})),this.buttonRace.button.addEventListener("click",(()=>{this.buttonRaceHandler()})),this.buttonReset.button.addEventListener("click",(()=>{this.buttonResetHandler()})),document.addEventListener("clickOnPagination",(()=>{this.buttonReset.button.disabled=!0,this.buttonRace.button.disabled=!1}))}}e.RaceControls=o},647:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TableWinners=void 0;const a=n(579),s=n(899),i=n(293),r=n(864);class o extends s.Table{constructor(){super(["table-winners"]),this.getValueWinners=async(t=1,e)=>{this.table.textContent="",this.thead=this.table.createTHead(),this.hrowHead=this.thead.insertRow(0),this.cellNumber=this.hrowHead.insertCell(0),this.cellNumber.classList.add("table-winners__row","table-winners__row--head"),this.cellNumber.textContent="Number",this.cellCar=this.hrowHead.insertCell(1),this.cellCar.classList.add("table-winners__row","table-winners__row--head","table-winners__row--car"),this.cellCar.textContent="Car",this.cellName=this.hrowHead.insertCell(2),this.cellName.classList.add("table-winners__row","table-winners__row--head"),this.cellName.textContent="Name",this.cellWins=this.hrowHead.insertCell(3),this.cellWins.classList.add("table-winners__row","table-winners__row--head"),this.cellWins.textContent="Wins",this.cellBsetTime=this.hrowHead.insertCell(4),this.cellBsetTime.classList.add("table-winners__row","table-winners__row--head"),this.cellBsetTime.textContent="Best Time";let n=(await a.getWinners(t)).items;e&&(n=e),n.map(((e,n)=>(this.tbody=this.table.createTBody(),this.hrowBody=this.tbody.insertRow(0),this.cellNumberValue=this.hrowBody.insertCell(0),this.cellNumberValue.classList.add("table-winners__row"),this.cellCarValue=this.hrowBody.insertCell(1),this.cellCarValue.classList.add("table-winners__row"),this.cellNameValue=this.hrowBody.insertCell(2),this.cellNameValue.classList.add("table-winners__row"),this.cellWinsValue=this.hrowBody.insertCell(3),this.cellWinsValue.classList.add("table-winners__row"),this.cellBsetTimeValue=this.hrowBody.insertCell(4),this.cellBsetTimeValue.classList.add("table-winners__row"),this.cellNumberValue.textContent=`${n+1+i.totalWinnersOnPage*(t-1)}`,this.cellCarValue.innerHTML=r.getCarIcon(e.car.color),this.cellNameValue.textContent=`${e.car.name}`,this.cellWinsValue.textContent=`${e.wins}`,this.cellBsetTimeValue.textContent=`${e.time}`,e))),this.cellWins.addEventListener("click",(()=>{this.clickWinsHandler()})),this.cellBsetTime.addEventListener("click",(()=>{this.clickBestTimeHandler()}))},this.clickWinsHandler=()=>{document.dispatchEvent(new CustomEvent("clickWinsTable",{bubbles:!0}))},this.clickBestTimeHandler=()=>{document.dispatchEvent(new CustomEvent("clickBestTimeTable",{bubbles:!0}))},this.getValueWinners(1)}}e.TableWinners=o}},e={};function n(a){var s=e[a];if(void 0!==s)return s.exports;var i=e[a]={exports:{}};return t[a](i,i.exports,n),i.exports}n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{const t=n(752);n(373),window.onload=()=>{new t.App(document.body).render()}})()})();